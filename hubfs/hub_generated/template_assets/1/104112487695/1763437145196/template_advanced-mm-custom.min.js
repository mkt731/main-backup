document.addEventListener("DOMContentLoaded",function(){const header=document.querySelector(".pwr-header");if(header){let dir="",oldVal=0,oldTarget=null,mouseMoveAction=function(e){dir=e.pageX<oldVal?1:e.pageX>oldVal?-1:dir,oldVal=e.pageX,e.target!=oldTarget&&(header.style.setProperty("--mouse-dir-hor",dir),oldTarget=e.target)};header.addEventListener("mousemove",mouseMoveAction)}const mms=document.querySelectorAll(".pwr-header-advanced-mm");mms.forEach(function(mm){const target=mm.dataset.target,menuItem=document.querySelectorAll(".pwr-header__menu .hs-menu-wrapper li.hs-menu-depth-1")[target-1];if(menuItem){menuItem.classList.add("has-mega-menu");const child=menuItem.querySelector("ul");child&&menuItem.removeChild(child);const action=e=>{if(e.preventDefault(),mms.forEach(function(mm2){mm2.classList.remove("pwr-header-advanced-mm--is-active")}),"click"!=e.type&&"touchstart"!=e.type&&"tap"!=e.type&&"pointerdown"!=e.type||mm.classList.contains("pwr-header-advanced-mm--is-active")||(console.log("clicked not active"),mm.classList.toggle("pwr-header-advanced-mm--is-active")),("click"==e.type||"touchstart"==e.type||"tap"==e.type||"pointerdown"==e.type)&&mm.classList.contains("pwr-header-advanced-mm--custom-width")){console.log("clicked active");const mIWidth=menuItem.offsetWidth,mILeft=menuItem.getBoundingClientRect().left,cWidth=mm.offsetWidth;mm.style.marginLeft=mILeft+mIWidth/2-cWidth/2+"px";const headerMenuWrapper=document.querySelector(".pwr-header-full"),hLeft=headerMenuWrapper.getBoundingClientRect().left,hWidth=headerMenuWrapper.offsetWidth,cLeft=mm.getBoundingClientRect().left,compLeft=cLeft-hLeft,compRight=hLeft+hWidth-(cLeft+cWidth);let compCen=cWidth-hWidth;compCen=compCen>0?compCen/2:0,compLeft<0&&compRight>=0?mm.style.marginLeft=cLeft-compLeft-compCen+"px":compRight<0&&compLeft>=0?mm.style.marginLeft=cLeft+compRight+compCen+"px":compRight<0&&compLeft<0&&(mm.style.marginLeft=hLeft-compCen+"px")}},actionTest=e=>{e.preventDefault(),console.log("TEST")};menuItem.addEventListener("pointerdown",action),menuItem.addEventListener("click",actionTest);const actionHide=ev=>{!mm.contains(ev.target)&&ev.target.parentElement!=menuItem&&mm.classList.contains("pwr-header-advanced-mm--is-active")&&(console.log("clicked outside mm"),mms.forEach(mm2=>mm2.classList.remove("pwr-header-advanced-mm--is-active")))};document.addEventListener("click",actionHide),document.addEventListener("touchstart",actionHide),document.addEventListener("pointerdown",actionHide),document.addEventListener("tap",actionHide)}})});
//# sourceURL=https://6852598.fs1.hubspotusercontent-na1.net/hubfs/6852598/hub_generated/template_assets/1/104112487695/1763437145196/template_advanced-mm-custom.js