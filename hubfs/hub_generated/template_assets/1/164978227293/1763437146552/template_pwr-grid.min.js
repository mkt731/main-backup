function fillGridGaps(container,parentModule=none){const style=window.getComputedStyle(container);var oldGap=style.gap,visualizeExpand=container.classList.contains("pwr-editor__grid-visualize-expand");container.style.gap="10px";var childNodes=Array.from(container.childNodes).filter(node=>node.nodeType!==Node.TEXT_NODE);function calcPositions(sizeArray,gap){var result=[],pos=0;for(size of sizeArray)result.push({pos:pos,size:size}),pos+=size+gap;return result}childNodes.forEach(e=>{e.style.gridColumn="",e.style.gridRow="",e.style.gridArea=""});var columns=style.gridTemplateColumns.split(" "),numCols=(columns=calcPositions(columns=columns.map(e=>parseInt(e.substring(0,e.length-2))),10)).length,containerRect=container.getBoundingClientRect(),rows=style.gridTemplateRows.split(" "),numRows=(rows=calcPositions(rows=rows.map(e=>parseInt(e.substring(0,e.length-2))),10)).length;function getIndexPosition(array,value,halfGap){value=Math.floor(value);var index=0;for(var pos of array){if(value>=pos.pos-halfGap&&value<=pos.pos+pos.size+halfGap)return index;index++}return console.log("Value not in renge: "+value+" "+JSON.stringify(array)),-1}let items=[];childNodes.forEach(e=>{e.style.transform="none",e.style.transition="none",e.style.animation="none";var itemRect=e.getBoundingClientRect();e.style.transform=null,e.style.transition=null,e.style.animation=null;var style=window.getComputedStyle(e),marginTop=parseInt(style.marginTop,0),posX=getIndexPosition(columns,itemRect.x-containerRect.x,5),posY=getIndexPosition(rows,itemRect.y-containerRect.y-marginTop,5),colSpan=parseInt(e.getAttribute("data-colSpan")),rowSpan=parseInt(e.getAttribute("data-rowSpan"));colSpan>numCols&&(colSpan=numCols),rowSpan>numRows&&(rowSpan=numRows);var index=parseInt(e.getAttribute("data-index"));items.push({e:e,index:index,posX:posX,posY:posY,colSpan:colSpan,rowSpan:rowSpan})}),container.style.gap=oldGap;const matrix=Array.from({length:numRows},()=>Array(numCols).fill(0));function fillMatrix(item){for(var row=item.posY;row<item.posY+item.rowSpan&&row<numRows;row++)for(var col=item.posX;col<item.posX+item.colSpan&&col<numCols;col++)matrix[row][col]=item.index}for(var item of items)fillMatrix(item);function canExpand(startRow,startCol,addRowSpan,addColSpan){for(let r=startRow;r<startRow+addRowSpan&&r<numRows;r++)for(let c=startCol;c<startCol+addColSpan&&c<numCols;c++)if(0!==matrix[r][c])return!1;return!0}for(var item of items.reverse()){let maxRowSpan=item.rowSpan,maxColSpan=item.colSpan;for(;item.posY+maxRowSpan<numRows&&canExpand(item.posY+maxRowSpan,item.posX,1,item.colSpan);)maxRowSpan++;for(;item.posX+maxColSpan<numCols&&canExpand(item.posY,item.posX+maxColSpan,item.rowSpan,1);)maxColSpan++;visualizeExpand&&(maxColSpan>item.colSpan?(item.e.classList.add("pwr-editor__grid-expand-col"),item.e.setAttribute("data-expand-col",maxColSpan-item.colSpan)):(item.e.classList.remove("pwr-editor__grid-expand-col"),item.e.removeAttribute("data-expand-col")),maxRowSpan>item.rowSpan?(item.e.classList.add("pwr-editor__grid-expand-row"),item.e.setAttribute("data-expand-row",maxRowSpan-item.rowSpan)):(item.e.classList.remove("pwr-editor__grid-expand-row"),item.e.removeAttribute("data-expand-row"))),item.rowSpan=maxRowSpan,item.colSpan=maxColSpan,fillMatrix(item),item.e.style.gridArea="span "+maxRowSpan+" / span "+maxColSpan}}function refeshFillGridGaps(){document.querySelectorAll(".pwr-bento-grid").forEach(e=>{var autoFill=e.querySelector(".pwr-grid--auto-fill-gaps");autoFill&&(pwr.aos.disableAnimation(e),fillGridGaps(autoFill,e),pwr.aos.enableAnimation(e))})}pwr.dom.ready(()=>{window.addEventListener("resize",refeshFillGridGaps),refeshFillGridGaps()});
//# sourceURL=https://6852598.fs1.hubspotusercontent-na1.net/hubfs/6852598/hub_generated/template_assets/1/164978227293/1763437146552/template_pwr-grid.js