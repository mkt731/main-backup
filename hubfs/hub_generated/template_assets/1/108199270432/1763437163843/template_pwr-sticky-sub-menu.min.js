pwr.dom.ready(()=>{var pwrStickySubMenu=document.querySelector("#pwr-js-sticky-sub-menu");if(!pwrStickySubMenu)return;const fixedHeader=document.querySelector("#pwr-header-fixed"),isFixedHeader=(document.querySelector("#pwr-header-top"),null!=fixedHeader),pwrStickySubMenuPositionProbe=document.querySelector("#pwr-js-sticky-sub-menu--position-probe"),pwrStickySubMenuPlaceholder=document.querySelector("#pwr-js-sticky-sub-menu--placeholder"),pwrStickySubMenuLinks=document.querySelectorAll(".pwr-sticky-sub-menu__link"),bodyWrapper=document.querySelector(".body-wrapper");var orgPos=pwrStickySubMenuPositionProbe.offsetTop,fixedHeaderOuterHeight=0;function refreshHeights(){matchHeight.match(Array.from(document.querySelectorAll(".pwr-sticky-sub-menu--match-height")))}function configurePlaceholder(){const sSub=document.getElementById("pwr-js-sticky-sub-menu");document.getElementById("pwr-js-sticky-sub-menu--placeholder").style.height=sSub.getBoundingClientRect().height+"px",refreshHeights()}function scrollHandler(){isFixedHeader&&(fixedHeaderOuterHeight=pwr.vanilla.getOuterHeight(fixedHeader)),orgPos=pwrStickySubMenuPositionProbe.offsetTop;var scrollPos=window.pageYOffset,bodyY=bodyWrapper?pwr.vanilla.getOffset(bodyWrapper).top:0;if(scrollPos<=orgPos-fixedHeaderOuterHeight-bodyY&&scrollPos>=-100)pwrStickySubMenu.style.top="auto",pwrStickySubMenu.classList.remove("scroll"),pwrStickySubMenuPlaceholder.classList.remove("scroll"),pwrStickySubMenuLinks.forEach(e=>e.classList.remove("pwr-sticky-sub-menu__link--active"));else{pwrStickySubMenu.style.top=bodyY+"px",isFixedHeader&&(pwrStickySubMenu.style.top=bodyY+fixedHeaderOuterHeight+"px"),pwrStickySubMenu.classList.add("scroll"),pwrStickySubMenuPlaceholder.classList.add("scroll");var targetListScrolledPast=pwrStickySubMenuTargetList.filter(e=>e.getBoundingClientRect().top<50),targetLast=targetListScrolledPast[targetListScrolledPast.length-1],targetLastId=targetLast?targetLast.getAttribute("id"):"";pwrStickySubMenuLinks.forEach(e=>e.getAttribute("href")=="#"+targetLastId?e.classList.add("pwr-sticky-sub-menu__link--active"):e.classList.remove("pwr-sticky-sub-menu__link--active"))}}pwrStickySubMenuTargetList=Array.from(pwrStickySubMenuLinks).map(e=>document.querySelector(e.getAttribute("href"))).filter(e=>null!=e),configurePlaceholder(),refreshHeights(),window.addEventListener("resize",configurePlaceholder),window.addEventListener("scroll",scrollHandler),scrollHandler();new ResizeObserver(scrollHandler).observe(document.body);var btnStickySubmenu=document.querySelector("#pwr-js-sticky-sub-menu__btn");function progressBar(){var max,value,progressBar=document.querySelector("#pwr-js-sticky-sub-menu__progress-bar");max=document.body.offsetHeight-window.innerHeight,progressBar.setAttribute("max",max),value=window.scrollY||document.documentElement.scrollTop,progressBar.setAttribute("value",value)}btnStickySubmenu.addEventListener("click",function(e){e.preventDefault(),pwrStickySubMenu.classList.contains("pwr-sticky-sub-menu--mobile-open")?(pwrStickySubMenu.classList.remove("pwr-sticky-sub-menu--mobile-open"),btnStickySubmenu.classList.remove("pwr-sticky-sub-menu__btn--open")):(pwrStickySubMenu.classList.add("pwr-sticky-sub-menu--mobile-open"),btnStickySubmenu.classList.add("pwr-sticky-sub-menu__btn--open"))}),document.querySelector("#pwr-js-sticky-sub-menu__progress-bar")&&(window.addEventListener("scroll",progressBar),window.addEventListener("resize",progressBar))});
//# sourceURL=https://6852598.fs1.hubspotusercontent-na1.net/hubfs/6852598/hub_generated/template_assets/1/108199270432/1763437163843/template_pwr-sticky-sub-menu.js